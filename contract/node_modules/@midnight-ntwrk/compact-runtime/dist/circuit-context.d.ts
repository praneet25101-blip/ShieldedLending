import * as ocrt from '@midnight-ntwrk/onchain-runtime-v2';
import { EncodedCoinPublicKey, EncodedZswapLocalState, ZswapLocalState } from './zswap.js';
import { PartialProofData, ProofData } from './proof-data.js';
/**
 * The external information accessible from within a Compact circuit call
 */
export interface CircuitContext<PS = any> {
    /**
     * The current private state for the contract.
     */
    currentPrivateState: PS;
    /**
     * The current Zswap local state. Tracks inputs and outputs produced during circuit execution.
     */
    currentZswapLocalState: EncodedZswapLocalState;
    /**
     * The current on-chain context the transaction is evolving.
     */
    currentQueryContext: ocrt.QueryContext;
    /**
     * The cost model to use for the execution.
     */
    costModel: ocrt.CostModel;
    /**
     * The gas limit for this circuit.
     */
    gasLimit?: ocrt.RunningCost;
}
export declare const createCircuitContext: <PS>(contractAddress: ocrt.ContractAddress, coinPublicKeyOrZswapState: ocrt.CoinPublicKey | EncodedCoinPublicKey | ZswapLocalState | EncodedZswapLocalState, contractState: ocrt.ContractState | ocrt.StateValue | ocrt.ChargedState, privateState: PS, gasLimit?: ocrt.RunningCost, costModel?: ocrt.CostModel, time?: number) => CircuitContext<PS>;
/**
 * Function for creating an initial running cost of zero.
 *
 * @internal
 */
export declare const emptyRunningCost: () => ocrt.RunningCost;
/**
 * The results of the call to a Compact circuit
 */
export interface CircuitResults<PS = any, R = any> {
    /**
     * The primary result, as returned from Compact
     */
    result: R;
    /**
     * The data required to prove this circuit run
     */
    proofData: ProofData;
    /**
     * The updated context after the circuit execution, that can be used to
     * inform further runs
     */
    context: CircuitContext<PS>;
    /**
     * The gas consumption of the circuit execution
     */
    gasCost: ocrt.RunningCost;
}
/**
 * Runs a program (query) against the current ledger state in the given circuit context. Records the transcript in the
 * given partial proof data.
 *
 * @param circuitContext The context for the currently executing circuit.
 * @param partialProofData The partial proof data to insert the query results into.
 * @param program The query to run.
 */
export declare const queryLedgerState: (circuitContext: CircuitContext, partialProofData: PartialProofData, program: ocrt.Op<null>[]) => ocrt.AlignedValue | ocrt.GatherResult[];
