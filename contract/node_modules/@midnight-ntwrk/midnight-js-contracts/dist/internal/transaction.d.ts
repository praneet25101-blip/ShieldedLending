import type { Contract } from '@midnight-ntwrk/compact-js/effect/Contract';
import { type PrivateStateId } from '@midnight-ntwrk/midnight-js-types';
import { type CallResult } from '../call';
import { type ContractProviders } from '../contract-providers';
import { type ContractStates, type PublicContractStates } from '../get-states';
import { type SubmitTxOptions } from '../submit-tx';
import type * as Transaction from '../transaction';
import { type FinalizedCallTxData, type UnsubmittedCallTxData } from '../tx-model';
/** @internal */
export declare const TypeId: Transaction.TypeId;
/** @internal */
export declare const Submit: unique symbol;
/** @internal */
export declare const MergeUnsubmittedCallTxData: unique symbol;
/** @internal */
export declare const CacheStates: unique symbol;
/** @internal */
export declare class TransactionContextImpl<C extends Contract.Any, ICK extends Contract.ImpureCircuitId<C>> implements Transaction.TransactionContext<C, ICK> {
    readonly [TypeId]: Transaction.TypeId;
    readonly providers: ContractProviders<any, any>;
    readonly options?: Transaction.ScopedTransactionOptions;
    currentStates: ContractStates<Contract.PrivateState<C>> | PublicContractStates | undefined;
    currentUnsubmittedCall: [callTxData: UnsubmittedCallTxData<C, ICK>, privateStateId?: PrivateStateId] | undefined;
    submitTxOptions: SubmitTxOptions<ICK> | undefined;
    constructor(providers: ContractProviders<C, ICK>, options?: Transaction.ScopedTransactionOptions);
    getCurrentStates(): ContractStates<Contract.PrivateState<C>> | PublicContractStates | undefined;
    getLastUnsubmittedCallTxDataToTransact(): [UnsubmittedCallTxData<C, ICK>, PrivateStateId?] | undefined;
    [Submit](): Promise<FinalizedCallTxData<C, ICK>>;
    [CacheStates](states: ContractStates<Contract.PrivateState<C>> | PublicContractStates): void;
    [MergeUnsubmittedCallTxData](circuitId: ICK, callData: UnsubmittedCallTxData<C, ICK>, privateStateId?: PrivateStateId): void;
}
/** @internal */
export declare const mergeUnsubmittedCallTxData: <C extends Contract.Any, ICK extends Contract.ImpureCircuitId<C>>(txCtx: Transaction.TransactionContext<C, ICK>, circuitId: ICK, callData: UnsubmittedCallTxData<C, ICK>, privateStateId?: PrivateStateId) => void;
/** @internal */
export declare const isTransactionContext: (u: unknown) => u is Transaction.TransactionContext<Contract.Any>;
/** @internal */
export declare const scoped: {
    <C extends Contract.Any, ICK extends Contract.ImpureCircuitId<C>>(providers: ContractProviders<C, ICK>, fn: (txCtx: Transaction.TransactionContext<C, ICK>) => Promise<void>, options?: Transaction.ScopedTransactionOptions): Promise<FinalizedCallTxData<C, ICK>>;
    <C extends Contract.Any, ICK extends Contract.ImpureCircuitId<C>>(providers: ContractProviders<C, ICK>, fn: (txCtx: Transaction.TransactionContext<C, ICK>) => Promise<void>, txCtx: Transaction.TransactionContext<C, ICK>, options?: Transaction.ScopedTransactionOptions): Promise<CallResult<C, ICK>>;
};
//# sourceMappingURL=transaction.d.ts.map