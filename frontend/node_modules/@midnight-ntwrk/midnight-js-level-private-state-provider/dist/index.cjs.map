{"version":3,"file":"index.cjs","sources":["../src/storage-encryption.ts","../src/level-private-state-provider.ts"],"sourcesContent":[null,null],"names":["randomBytes","pbkdf2Sync","Buffer","createCipheriv","createDecipheriv","buffer","superjson","level","Level"],"mappings":"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"}